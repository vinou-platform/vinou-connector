var t3vinprefixMarketplace=".tx-vinou-marketplace ",vinouShopMarketplace={deleteItemButtons:t3vinprefixMarketplace+"a.delete-basket-item",init:function(){this.bindEvents()},bindEvents:function(){var e=this;if(!document.querySelector(t3vinprefixMarketplace))return!1;for(var t=document.querySelectorAll(t3vinprefixMarketplace+"button.inc,"+t3vinprefixMarketplace+"button.dec"),r=0;r<t.length;r++)t[r].addEventListener("click",(function(t){var r=this.closest(".basket-row"),a=r.getAttribute("data-item-id"),i=r.querySelector('input[data-item-id="'+a+'"]'),n=r.querySelector(".quantity-overlay"),o=i.getAttribute("data-max")?parseInt(i.getAttribute("data-max")):99;t.preventDefault();var l=parseInt(i.value);return this.getAttribute("class").indexOf("inc")>-1&&(i.value=l<o?l+1:o),this.getAttribute("class").indexOf("dec")>-1&&(i.value=l>0?l-1:0),n&&(n.innerHTML=parseInt(i.value)),e.setBasketValidation(!1),!1}));var a=document.querySelectorAll(e.deleteItemButtons);for(r=0;r<a.length;r++)a[r].addEventListener("click",(function(t){t.preventDefault();var r=this.closest(".basket-row"),a=r.getAttribute("data-supplier-id");if(r.parentNode.removeChild(r),0==document.querySelectorAll(t3vinprefixMarketplace+'.basket-row[data-supplier-id="'+a+'"]').length){supplierBasketRows=document.querySelectorAll(t3vinprefixMarketplace+'div[data-supplier-id="'+a+'"]');for(var i=0;i<supplierBasketRows.length;i++)supplierBasketRows[i].parentNode.removeChild(supplierBasketRows[i])}return e.setBasketValidation(!1),!1}));document.querySelector(t3vinprefixMarketplace+"a.button-to-refresh").addEventListener("click",(function(e){e.preventDefault(),document.querySelector(t3vinprefixMarketplace+"button.button-to-refresh").click()})),document.querySelector(t3vinprefixMarketplace+"a.button-to-checkout").addEventListener("click",(function(e){e.preventDefault(),document.querySelector(t3vinprefixMarketplace+"button.button-to-checkout").click()}))},setBasketValidation:function(e){var t;e||((t=document.querySelector(t3vinprefixMarketplace+"a.button-to-checkout"))&&t.parentNode.removeChild(t),(t=document.querySelector(t3vinprefixMarketplace+"a.button-to-refresh"))&&(t.classList.add("grow"),t.classList.add("refresh-required"),setTimeout((function(){t.classList.remove("grow")}),400)))}};vinouShopMarketplace.init();