var t3vinprefixMarketplace=".tx-vinou-marketplace ",vinouShopMarketplace={deleteItemButtons:t3vinprefixMarketplace+"a.delete-basket-item",init:function(){this.bindEvents()},bindEvents:function(){var e=this;if(!document.querySelector(t3vinprefixMarketplace))return!1;for(var t=document.querySelectorAll(t3vinprefixMarketplace+"button.inc,"+t3vinprefixMarketplace+"button.dec"),r=0;r<t.length;r++)t[r].addEventListener("click",(function(t){var r=this.closest(".basket-row"),n=r.getAttribute("data-item-id"),a=r.querySelector('input[data-item-id="'+n+'"]'),i=r.querySelector(".quantity-overlay"),o=a.getAttribute("data-max")?parseInt(a.getAttribute("data-max")):99;t.preventDefault();var c=parseInt(a.value);return this.getAttribute("class").indexOf("inc")>-1&&(a.value=c<o?c+1:o),this.getAttribute("class").indexOf("dec")>-1&&(a.value=c>0?c-1:0),i&&(i.innerHTML=parseInt(a.value)),e.setBasketValidation(!1),!1}));var n=document.querySelectorAll(e.deleteItemButtons);for(r=0;r<n.length;r++)n[r].addEventListener("click",(function(t){t.preventDefault();var r=this.closest(".basket-row");return r.parentNode.removeChild(r),e.setBasketValidation(!1),!1}));document.querySelector(t3vinprefixMarketplace+"a.button-to-refresh").addEventListener("click",(function(e){e.preventDefault(),document.querySelector(t3vinprefixMarketplace+"button.button-to-refresh").click()})),document.querySelector(t3vinprefixMarketplace+"a.button-to-checkout").addEventListener("click",(function(e){e.preventDefault(),document.querySelector(t3vinprefixMarketplace+"button.button-to-checkout").click()}))},setBasketValidation:function(e){var t;e||((t=document.querySelector(t3vinprefixMarketplace+"a.button-to-checkout"))&&t.parentNode.removeChild(t),(t=document.querySelector(t3vinprefixMarketplace+"a.button-to-refresh"))&&(t.classList.add("grow"),t.classList.add("refresh-required"),setTimeout((function(){t.classList.remove("grow")}),400)))}};vinouShopMarketplace.init();