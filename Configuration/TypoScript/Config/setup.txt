# add Vinou-JS (Shop,Enquiry,List) if it was turned on in the constants
[globalVar = LIT:0 < {$plugin.tx_vinou.settings.javascript.vinou}]
page.includeJSFooterlibs {
	listjs = EXT:vinou_connector/Vendor/listjs/list.js
	vinou = EXT:vinou_connector/Resources/Public/JavaScript/Src/vinou.js
}

# add only shop javascript if it was turned on in the constants
[globalVar = LIT:0 < {$plugin.tx_vinou.settings.javascript.shop}]
page.includeJSFooterlibs {
	listjs = EXT:vinou_connector/Vendor/listjs/list.js
	shop = EXT:vinou_connector/Resources/Public/JavaScript/Src/shop.js
}

# add only enquiry javascript if it was turned on in the constants
[globalVar = LIT:0 < {$plugin.tx_vinou.settings.javascript.enquiry}]
page.includeJSFooterlibs {
	enquiry = EXT:vinou_connector/Resources/Public/JavaScript/Src/enquiry.js
}

# add only list javascript if it was turned on in the constants
[globalVar = LIT:0 < {$plugin.tx_vinou.settings.javascript.list}]
page.includeJSFooterlibs {
	list = EXT:vinou_connector/Resources/Public/JavaScript/Src/list.js
}

[end]

plugin.tx_vinouconnector_wines {
	view {
		templateRootPaths {
			0 = EXT:vinou_connector/Resources/Private/Templates/
			1 = {$plugin.tx_vinouconnector_wines.view.templateRootPath}
		}
		partialRootPaths {
			0 = EXT:vinou_connector/Resources/Private/Partials/
			1 = {$plugin.tx_vinouconnector_wines.view.partialRootPath}
		}
		layoutRootPaths {
			0 = EXT:vinou_connector/Resources/Private/Layouts/
			1 = {$plugin.tx_vinouconnector_wines.view.layoutRootPath}
		}
	}

	settings {
		list {
			regular {
				image {
					maxWidth = 100
					maxHeight = 200
				}
				text {
					crop = 150
					append = ...
				}
			}
			slider {
				image {
					maxWidth = 150
					maxHeight = 400
				}
				text {
					crop = 100
					append = ...
				}
			}
		}

		detail {
			facts = articlenumber,type,grapetypes,tastes_id,vintage,alcohol,sweetness,acid,bottlesize,drinktemperature,price,place,region
			image {
				maxWidth = 200
				maxHeight = 600
			}
		}
	}

	persistence {
		storagePid = 1
	}
}

module.tx_vinouconnector_wines < plugin.tx_vinouconnector_wines


plugin.tx_vinouconnector_products {
	view {
		templateRootPaths {
			0 = EXT:vinou_connector/Resources/Private/Templates/
			1 = {$plugin.tx_vinouconnector_products.view.templateRootPath}
		}
		partialRootPaths {
			0 = EXT:vinou_connector/Resources/Private/Partials/
			1 = {$plugin.tx_vinouconnector_products.view.partialRootPath}
		}
		layoutRootPaths {
			0 = EXT:vinou_connector/Resources/Private/Layouts/
			1 = {$plugin.tx_vinouconnector_products.view.layoutRootPath}
		}
	}

	settings {
		list {
			regular {
				image {
					maxWidth = 100
					maxHeight = 200
				}
				text {
					crop = 150
					append = ...
				}
			}
			slider {
				image {
					maxWidth = 150
					maxHeight = 400
				}
				text {
					crop = 100
					append = ...
				}
			}
		}

		detail {
			image {
				maxWidth = 200
				maxHeight = 600
			}
		}
	}

	persistence {
		storagePid = 1
	}
}

module.tx_vinouconnector_products < plugin.tx_vinouconnector_products


plugin.tx_vinouconnector_enquiry {
	view {
		templateRootPaths {
			0 = EXT:vinou_connector/Resources/Private/Templates/
			1 = {$plugin.tx_vinouconnector_enquiry.view.templateRootPath}
		}
		partialRootPaths {
			0 = EXT:vinou_connector/Resources/Private/Partials/
			1 = {$plugin.tx_vinouconnector_enquiry.view.partialRootPath}
		}
		layoutRootPaths {
			0 = EXT:vinou_connector/Resources/Private/Layouts/
			1 = {$plugin.tx_vinouconnector_enquiry.view.layoutRootPath}
		}
	}
}

module.tx_vinouconnector_enquiry < plugin.tx_vinouconnector_enquiry

plugin.tx_vinouconnector_enquiry {
	settings {
		mail {
			wineFields = name,articlenumber,quantity,price
			senderMailTemplate = EXT:vinou_connector/Resources/Private/Templates/Email/EnquirySenderMail.html
			adminMailTemplate = EXT:vinou_connector/Resources/Private/Templates/Email/EnquiryAdminMail.html
		}
	}
}

plugin.tx_vinouconnector_shop {
	view {
		templateRootPaths {
			0 = EXT:vinou_connector/Resources/Private/Templates/
			1 = {$plugin.tx_vinouconnector_shop.view.templateRootPath}
		}
		partialRootPaths {
			0 = EXT:vinou_connector/Resources/Private/Partials/
			1 = {$plugin.tx_vinouconnector_shop.view.partialRootPath}
		}
		layoutRootPaths {
			0 = EXT:vinou_connector/Resources/Private/Layouts/
			1 = {$plugin.tx_vinouconnector_shop.view.layoutRootPath}
		}
	}
	settings {
		list {
			image {
				maxWidth = 100
				maxHeight = 200
			}
			text {
				crop = 150
				append = ...
			}
		}
		billing {
			required = firstname,lastname,address,zip,city,email
		}
		delivery {
			required = firstname,lastname,address,zip,city
		}
		mail {
			senderName = Vinou Wines
			senderEmail = noreply@domain.com
			adminName = Admin
			adminEmail = admin@domain.com
			attachements {
				generalBusinessTerms = 
				cancellationPolicy =
			}
		}
		payment {
			methods = prepaid,paypal,debiting,bill
			default = prepaid
		}
		mandatorySign = *
		manualFilter {
			type {
				10 = secco
				20 = sparkling
				30 = white
				40 = rose
				50 = red
				60 = general
			}
		}
	}
}

module.tx_vinouconnector_shop < plugin.tx_vinouconnector_shop